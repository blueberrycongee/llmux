apiVersion: v1
kind: ConfigMap
metadata:
  name: llmux-config
  namespace: llmux
data:
  config.yaml: |
    server:
      port: 8080
      read_timeout: 30s
      write_timeout: 120s
      idle_timeout: 60s

    providers:
      - name: openai
        type: openai
        api_key: ${OPENAI_API_KEY}
        base_url: https://api.openai.com/v1
        models:
          - gpt-4o
          - gpt-4o-mini
        max_concurrent: 100
        timeout: 60s

      - name: anthropic
        type: anthropic
        api_key: ${ANTHROPIC_API_KEY}
        base_url: https://api.anthropic.com
        models:
          - claude-3-5-sonnet-20241022
        max_concurrent: 50
        timeout: 120s

      - name: gemini
        type: gemini
        api_key: ${GOOGLE_API_KEY}
        base_url: https://generativelanguage.googleapis.com
        models:
          - gemini-1.5-pro
          - gemini-1.5-flash
        max_concurrent: 50
        timeout: 60s

    routing:
      strategy: simple-shuffle
      fallback_enabled: true
      retry_count: 3
      retry_backoff: 100ms
      retry_max_backoff: 5s
      retry_jitter: 0.2
      cooldown_period: 60s

    logging:
      level: info
      format: json

    metrics:
      enabled: true
      path: /metrics

    tracing:
      enabled: false
